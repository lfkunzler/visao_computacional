clc
clear

I = imread("ex2.bmp");

subplot(1, 3, 1);
imshow(I);

minv = min(I(:));
maxv = max(I(:));

% 0 = a*65 + b
% 255 = a*128 + b
% y = 4,05x + 263

I_d = double(I);
I_d = 4.05*I_d-263;
I_f = uint8(I_d);

subplot(1, 3, 2);
imshow(I_f);

subplot(1, 3, 3);

minv = min(I(:));
maxv = max(I(:));

a = (255/(maxv-minv));
b = -a*minv;

i_aux = double(I);
i_aux = a*i_aux + b;
img_out = uint8(i_aux);

imshow(img_out);
